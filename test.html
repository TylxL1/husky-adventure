<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Babylon.js</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; }
        #renderCanvas { width: 100%; height: 100vh; display: block; }
        #debug {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            font-family: monospace;
        }
    </style>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
</head>
<body>
    <div id="debug">Chargement...</div>
    <canvas id="renderCanvas"></canvas>

    <script>
        const debug = document.getElementById('debug');

        try {
            debug.innerHTML = "Babylon.js chargé: " + (typeof BABYLON !== 'undefined' ? "OUI" : "NON");

            if (typeof BABYLON !== 'undefined') {
                const canvas = document.getElementById('renderCanvas');
                const engine = new BABYLON.Engine(canvas, true);

                debug.innerHTML += "<br>Moteur créé: OUI";

                const scene = new BABYLON.Scene(engine);
                scene.clearColor = new BABYLON.Color3(0.2, 0.4, 0.6);

                debug.innerHTML += "<br>Scène créée: OUI";

                // Caméra
                const camera = new BABYLON.ArcRotateCamera(
                    "camera",
                    0, 1, 10,
                    BABYLON.Vector3.Zero(),
                    scene
                );
                camera.attachControl(canvas, true);

                debug.innerHTML += "<br>Caméra créée: OUI";

                // Lumière
                const light = new BABYLON.HemisphericLight(
                    "light",
                    new BABYLON.Vector3(0, 1, 0),
                    scene
                );

                // Cube de test
                const box = BABYLON.MeshBuilder.CreateBox("box", { size: 2 }, scene);
                box.position.y = 1;

                // Sol
                const ground = BABYLON.MeshBuilder.CreateGround(
                    "ground",
                    { width: 10, height: 10 },
                    scene
                );

                debug.innerHTML += "<br>Objets créés: OUI";
                debug.innerHTML += "<br><br>✅ TOUT FONCTIONNE!";
                debug.innerHTML += "<br>Vous devriez voir un cube bleu.";

                // Lancer le rendu
                engine.runRenderLoop(() => {
                    scene.render();
                });

                window.addEventListener('resize', () => {
                    engine.resize();
                });

            } else {
                debug.innerHTML += "<br><br>❌ ERREUR: Babylon.js ne s'est pas chargé!";
            }

        } catch (error) {
            debug.innerHTML += "<br><br>❌ ERREUR: " + error.message;
            console.error(error);
        }
    </script>
</body>
</html>
